"use strict";(self.webpackChunkjj_services=self.webpackChunkjj_services||[]).push([[751],{189:()=>{},751:(n,e,i)=>{i.r(e),i.d(e,{default:()=>g});var o=i(555),a=i(43),t=i(833),s=i(579);function r(n){let{pickupCoords:e,dropoffCoords:i,pickupAddress:o,dropoffAddress:t,onPickupSelect:r,onDropoffSelect:c,onMapClose:l,alwaysVisible:d=!1}=n;const m=(0,a.useRef)(null),p=(0,a.useRef)(null),f=(0,a.useRef)(e),u=(0,a.useRef)(i),[h,x]=(0,a.useState)(()=>e?i?"pickup":"dropoff":"pickup"),g=(0,a.useRef)(h),[b,j]=(0,a.useState)(null),[v,N]=(0,a.useState)(null),[k,w]=(0,a.useState)(!1),[y,C]=(0,a.useState)(!1);(0,a.useEffect)(()=>{f.current=e,u.current=i},[e,i]),(0,a.useEffect)(()=>{g.current=h},[h]);return(0,a.useEffect)(()=>{if(!m.current)return;let n=!0;const o=()=>{if(!window.L||!n||!m.current)return;if(p.current)return;let o=[40.7128,-74.006],a=null;!navigator.geolocation||e||i||navigator.geolocation.getCurrentPosition(e=>{if(n&&p.current){const n=e.coords.latitude,i=e.coords.longitude;o=[n,i],p.current.setView([n,i],13)}},()=>{n&&p.current&&p.current.setView(o,13)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}),e&&i?(o=[(e.lat+i.lat)/2,(e.lng+i.lng)/2],a=[[e.lat,e.lng],[i.lat,i.lng]]):e?o=[e.lat,e.lng]:i&&(o=[i.lat,i.lng]);const t=window.L.map(m.current).setView(o,13);e||i||!navigator.geolocation||(C(!0),navigator.geolocation.getCurrentPosition(e=>{if(n&&t){const n=e.coords.latitude,i=e.coords.longitude;t.setView([n,i],13),C(!1)}},()=>{C(!1)},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0})),window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"\xa9 OpenStreetMap contributors",maxZoom:19}).addTo(t),p.current=t,a&&t.fitBounds(a,{padding:[50,50]});const s=window.L.divIcon({className:"custom-pin pickup-pin",html:'\n          <div class="modern-pin pickup-pin-modern">\n            <div class="pin-circle pickup">A</div>\n            <div class="pin-shadow"></div>\n          </div>\n        ',iconSize:[40,40],iconAnchor:[20,40]}),l=window.L.divIcon({className:"custom-pin dropoff-pin",html:'\n          <div class="modern-pin dropoff-pin-modern">\n            <div class="pin-circle dropoff">B</div>\n            <div class="pin-shadow"></div>\n          </div>\n        ',iconSize:[40,40],iconAnchor:[20,40]});if(e){const n=window.L.marker([e.lat,e.lng],{icon:s}).addTo(t);n.bindPopup('<strong style="color: #ef4444;">Pickup Location</strong><br>'+e.lat.toFixed(6)+", "+e.lng.toFixed(6)),j(n)}if(i){const n=window.L.marker([i.lat,i.lng],{icon:l}).addTo(t);n.bindPopup('<strong style="color: #3b82f6;">Dropoff Location</strong><br>'+i.lat.toFixed(6)+", "+i.lng.toFixed(6)),N(n)}if(e&&i){window.L.polyline([[e.lat,e.lng],[i.lat,i.lng]],{color:"#0b6cf2",weight:3,dashArray:"10, 10"}).addTo(t)}t.on("click",async n=>{const{lat:e,lng:i}=n.latlng,o=f.current,a=u.current;let t=null;if(t=o?a?g.current||"pickup":"dropoff":"pickup",!t)return;w(!0);const s=await(async(n,e)=>{try{const i="https://nominatim.openstreetmap.org/reverse?format=json&lat=".concat(n,"&lon=").concat(e,"&addressdetails=1"),o=await fetch(i,{headers:{"User-Agent":"J&J Limo Services Booking App"}});return(await o.json()).display_name||"".concat(n.toFixed(6),", ").concat(e.toFixed(6))}catch(i){return console.error("Reverse geocoding error:",i),"".concat(n.toFixed(6),", ").concat(e.toFixed(6))}})(e,i);w(!1),"pickup"===t&&r?(r({lat:e,lng:i},s),a||x("dropoff")):"dropoff"===t&&c&&c({lat:e,lng:i},s)})};if(window.L)setTimeout(o,100);else{if(!document.querySelector('link[href*="leaflet"]')){const n=document.createElement("link");n.rel="stylesheet",n.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",n.integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=",n.crossOrigin="",document.head.appendChild(n)}if(document.querySelector('script[src*="leaflet"]')){const e=setInterval(()=>{window.L&&n&&(clearInterval(e),setTimeout(o,100))},100);setTimeout(()=>clearInterval(e),1e4)}else{const e=document.createElement("script");e.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",e.integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=",e.crossOrigin="",e.onload=()=>{n&&setTimeout(o,100)},e.onerror=()=>{console.error("Failed to load Leaflet library")},document.body.appendChild(e)}}return()=>{n=!1,p.current&&(p.current.remove(),p.current=null)}},[]),(0,a.useEffect)(()=>{if(!p.current||!window.L)return;const n=p.current;b&&(n.removeLayer(b),j(null)),v&&(n.removeLayer(v),N(null));const o=window.L.divIcon({className:"custom-pin pickup-pin",html:'\n        <div class="modern-pin pickup-pin-modern">\n          <div class="pin-circle pickup">A</div>\n          <div class="pin-shadow"></div>\n        </div>\n      ',iconSize:[40,40],iconAnchor:[20,40]}),a=window.L.divIcon({className:"custom-pin dropoff-pin",html:'\n        <div class="modern-pin dropoff-pin-modern">\n          <div class="pin-circle dropoff">B</div>\n          <div class="pin-shadow"></div>\n        </div>\n      ',iconSize:[40,40],iconAnchor:[20,40]});if(e){const i=window.L.marker([e.lat,e.lng],{icon:o}).addTo(n);i.bindPopup('<strong style="color: #ef4444;">Pickup Location</strong><br>'+e.lat.toFixed(6)+", "+e.lng.toFixed(6)),j(i)}else j(null);if(i){const e=window.L.marker([i.lat,i.lng],{icon:a}).addTo(n);e.bindPopup('<strong style="color: #3b82f6;">Dropoff Location</strong><br>'+i.lat.toFixed(6)+", "+i.lng.toFixed(6)),N(e)}else N(null);if(n.eachLayer(e=>{e instanceof window.L.Polyline&&n.removeLayer(e)}),e&&i){window.L.polyline([[e.lat,e.lng],[i.lat,i.lng]],{color:"#0b6cf2",weight:3,dashArray:"10, 10"}).addTo(n);n.fitBounds([[e.lat,e.lng],[i.lat,i.lng]],{padding:[50,50]})}else e?n.setView([e.lat,e.lng],13):i&&n.setView([i.lat,i.lng],13)},[e,i]),(0,s.jsx)("div",{className:"location-map-preview-modern",children:(0,s.jsxs)("div",{className:"map-wrapper",children:[(0,s.jsx)("div",{ref:m,className:"map-container-full"}),!d&&(0,s.jsx)("button",{className:"map-close-btn",onClick:()=>l&&l(),type:"button",title:"Close map",children:"\u2715"}),k&&(0,s.jsx)("div",{className:"map-instruction-card",children:(0,s.jsxs)("div",{className:"instruction-content",children:[(0,s.jsx)("div",{className:"instruction-icon loading",children:(0,s.jsx)("div",{className:"spinner"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{children:"Getting address..."}),(0,s.jsx)("p",{children:"Please wait while we find the location"})]})]})}),y&&!e&&!i&&(0,s.jsx)("div",{className:"map-instruction-card",children:(0,s.jsxs)("div",{className:"instruction-content",children:[(0,s.jsx)("div",{className:"instruction-icon loading",children:(0,s.jsx)("div",{className:"spinner"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h4",{children:"Finding your location..."}),(0,s.jsx)("p",{children:"Centering map on your current position"})]})]})})]})})}function c(n){let{next:e,data:i,setData:o}=n;const[t,c]=(0,a.useState)(i.pickupCoords||null),[l,d]=(0,a.useState)(i.dropoffCoords||null),[m,p]=(0,a.useState)(i.pickup||""),[f,u]=(0,a.useState)(i.dropoff||""),[h,x]=(0,a.useState)(!1),[g,b]=(0,a.useState)(!1),[j,v]=(0,a.useState)(""),[N,k]=(0,a.useState)(""),[w,y]=(0,a.useState)([]),[C,S]=(0,a.useState)([]),P=(n,e)=>{c(n),o({pickupCoords:n,pickup:e||(n?"".concat(n.lat.toFixed(6),", ").concat(n.lng.toFixed(6)):"")}),p(e||(n?"".concat(n.lat.toFixed(6),", ").concat(n.lng.toFixed(6)):"")),v(""),y([])},z=(n,e)=>{d(n),o({dropoffCoords:n,dropoff:e||(n?"".concat(n.lat.toFixed(6),", ").concat(n.lng.toFixed(6)):"")}),u(e||(n?"".concat(n.lat.toFixed(6),", ").concat(n.lng.toFixed(6)):"")),k(""),S([])},D=async n=>{const e="pickup"===n,i=(e?m:f).trim();if(i){(e?x:b)(!0),(e?v:k)("");try{const n="https://nominatim.openstreetmap.org/search?format=json&limit=5&addressdetails=1&q=".concat(encodeURIComponent(i)),o=await fetch(n,{headers:{"User-Agent":"J&J Limo Services Booking App"}}),a=await o.json();if(!a||0===a.length)return(e?v:k)("No results found. Please try a different address."),void(e?y:S)([]);(e?y:S)(a)}catch(o){console.error("Search error:",o),(e?v:k)("Something went wrong. Please try again."),(e?y:S)([])}finally{(e?x:b)(!1)}}else(e?v:k)("Please enter an address or landmark.")},L=(n,e)=>{const i={lat:parseFloat(e.lat),lng:parseFloat(e.lon)},o=e.display_name;"pickup"===n?(P(i,o),y([])):(z(i,o),S([]))};(0,a.useEffect)(()=>{if(t||!navigator.geolocation)return;let n=!0;return navigator.geolocation.getCurrentPosition(async e=>{if(!n)return;const{latitude:i,longitude:o}=e.coords;try{const e="https://nominatim.openstreetmap.org/reverse?format=json&lat=".concat(i,"&lon=").concat(o,"&addressdetails=1"),a=await fetch(e,{headers:{"User-Agent":"J&J Limo Services Booking App"}}),s=await a.json();s.display_name&&n&&!t&&P({lat:i,lng:o},s.display_name)}catch(a){console.error("Auto-fill location error:",a)}},()=>{},{enableHighAccuracy:!0,timeout:1e4,maximumAge:0}),()=>{n=!1}},[]),(0,a.useEffect)(()=>{if(t&&l){const n=function(n,e){if(!n||!e)return 0;const i=n=>n*Math.PI/180,o=i(e.lat-n.lat),a=i(e.lng-n.lng),t=i(n.lat),s=i(e.lat),r=Math.sin(o/2)**2,c=Math.sin(a/2)**2,l=r+Math.cos(t)*Math.cos(s)*c;return 2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l))*6371}(t,l);o({distanceKm:n})}else o({distanceKm:0})},[t,l]);const F=n=>{"pickup"===n?(c(null),p(""),o({pickupCoords:null,pickup:""}),y([])):(d(null),u(""),o({dropoffCoords:null,dropoff:""}),S([]))};return(0,s.jsxs)("div",{className:"step-card",children:[(0,s.jsx)("h2",{className:"step-title",children:"Where would you like to go?"}),(0,s.jsxs)("p",{className:"step-subtitle",children:["Search for your pickup and dropoff locations above, then click ",(0,s.jsx)("strong",{children:"Search"})," to place them on the map. If search can't find an exact match, you can still tap directly on the map to fine\u2011tune the location."]}),(0,s.jsxs)("div",{className:"location-search-section",children:[(0,s.jsxs)("div",{className:"location-search-card",children:[(0,s.jsxs)("div",{className:"location-search-header",children:[(0,s.jsxs)("label",{children:["Pickup Location",(0,s.jsx)("span",{className:"required-asterisk ".concat(t?"hidden":""),children:"*"})]}),t&&(0,s.jsx)("button",{type:"button",className:"link-btn",onClick:()=>F("pickup"),children:"Clear"})]}),(0,s.jsxs)("div",{className:"location-search-input",children:[(0,s.jsx)("input",{type:"text",value:m,placeholder:"Enter address, airport, or landmark",onChange:n=>p(n.target.value),onKeyDown:n=>{"Enter"===n.key&&(n.preventDefault(),D("pickup"))}}),(0,s.jsx)("button",{type:"button",onClick:()=>D("pickup"),disabled:h,children:h?"Searching...":"Search"})]}),j&&(0,s.jsx)("p",{className:"location-error",children:j}),t&&(0,s.jsxs)("p",{className:"location-coords",children:[t.lat.toFixed(4),", ",t.lng.toFixed(4)]}),w.length>0&&(0,s.jsx)("ul",{className:"location-search-results",children:w.map(n=>(0,s.jsx)("li",{children:(0,s.jsxs)("button",{type:"button",onClick:()=>L("pickup",n),children:[(0,s.jsx)("span",{className:"result-title",children:n.display_name}),n.address&&(0,s.jsx)("span",{className:"result-subtitle",children:n.address.road||n.address.neighbourhood||n.address.suburb||""})]})},n.place_id))})]}),(0,s.jsxs)("div",{className:"location-search-card",children:[(0,s.jsxs)("div",{className:"location-search-header",children:[(0,s.jsxs)("label",{children:["Dropoff Location",(0,s.jsx)("span",{className:"required-asterisk ".concat(l?"hidden":""),children:"*"})]}),l&&(0,s.jsx)("button",{type:"button",className:"link-btn",onClick:()=>F("dropoff"),children:"Clear"})]}),(0,s.jsxs)("div",{className:"location-search-input",children:[(0,s.jsx)("input",{type:"text",value:f,placeholder:"Enter address, airport, or landmark",onChange:n=>u(n.target.value),onKeyDown:n=>{"Enter"===n.key&&(n.preventDefault(),D("dropoff"))}}),(0,s.jsx)("button",{type:"button",onClick:()=>D("dropoff"),disabled:g,children:g?"Searching...":"Search"})]}),N&&(0,s.jsx)("p",{className:"location-error",children:N}),l&&(0,s.jsxs)("p",{className:"location-coords",children:[l.lat.toFixed(4),", ",l.lng.toFixed(4)]}),C.length>0&&(0,s.jsx)("ul",{className:"location-search-results",children:C.map(n=>(0,s.jsx)("li",{children:(0,s.jsxs)("button",{type:"button",onClick:()=>L("dropoff",n),children:[(0,s.jsx)("span",{className:"result-title",children:n.display_name}),n.address&&(0,s.jsx)("span",{className:"result-subtitle",children:n.address.road||n.address.neighbourhood||n.address.suburb||""})]})},n.place_id))})]})]}),(0,s.jsx)(r,{pickupCoords:t,dropoffCoords:l,pickupAddress:i.pickup,dropoffAddress:i.dropoff,onPickupSelect:P,onDropoffSelect:z,onMapClose:()=>{},alwaysVisible:!0}),(0,s.jsx)("div",{className:"btn-row",children:(0,s.jsx)("button",{className:"next-btn",onClick:e,disabled:!t||!l,children:"Continue"})})]})}function l(n){let{next:e,back:i,data:o,setData:a}=n;const t=(new Date).toISOString().split("T")[0],r=()=>{if(!o.date)return!1;const n=new Date(o.date);if(Number.isNaN(n.getTime()))return!1;const e=new Date;return e.setHours(0,0,0,0),n.setHours(0,0,0,0),n>=e},c=()=>{if(!r()||!o.time)return!1;const[n,e]=o.time.split(":"),i=parseInt(n,10),a=parseInt(e,10);if(Number.isNaN(i)||Number.isNaN(a))return!1;const t=new Date(o.date);if(Number.isNaN(t.getTime()))return!1;t.setHours(i,a,0,0);return t>=new Date};return(0,s.jsxs)("div",{className:"step-card",children:[(0,s.jsx)("h2",{className:"step-title",children:"Select Date & Time"}),(0,s.jsx)("p",{className:"step-subtitle",children:"Choose the date and time for your trip, then tell us how many passengers will be traveling. We\u2019ll only let you continue if the time is in the future."}),(0,s.jsxs)("label",{className:"label",children:["Date",(0,s.jsx)("span",{className:"required-asterisk ".concat(o.date?"hidden":""),children:"*"})]}),(0,s.jsx)("input",{type:"date",className:"input-field",value:o.date,min:t,onChange:n=>{const e=String(n.target.value||"");if(!e)return a({date:""});const i=e.replace(/[^0-9-]/g,"");let o=i;if(i.includes("-")){const n=i.split("-").map(n=>n);n[0]=(n[0]||"").slice(0,4),n.length>1&&(n[1]=(n[1]||"").slice(0,2)),n.length>2&&(n[2]=(n[2]||"").slice(0,2)),o=n.filter((n,e)=>""!==n||0===e).join("-")}else{const n=i;o=n.length<=4?n.slice(0,4):n.length<=6?"".concat(n.slice(0,4),"-").concat(n.slice(4)):"".concat(n.slice(0,4),"-").concat(n.slice(4,6),"-").concat(n.slice(6,8))}a({date:o})}}),o.date&&!r()&&(0,s.jsx)("p",{className:"location-error",children:"Please select today or a future date."}),(0,s.jsxs)("label",{className:"label",children:["Time",(0,s.jsx)("span",{className:"required-asterisk ".concat(o.time?"hidden":""),children:"*"})]}),(0,s.jsx)("input",{type:"time",className:"input-field",value:o.time,onChange:n=>a({time:n.target.value})}),o.time&&r()&&!c()&&(0,s.jsx)("p",{className:"location-error",children:"Please select a time in the future."}),(0,s.jsxs)("label",{className:"label",children:["Passengers",(0,s.jsx)("span",{className:"required-asterisk ".concat(o.passengers?"hidden":""),children:"*"})]}),(0,s.jsx)("input",{type:"number",min:1,max:99,className:"input-field",value:o.passengers||"",onChange:n=>{const e=n.target.value.replace(/\D/g,"").slice(0,2),i=e?parseInt(e,10):"",o=""===i?"":Math.min(99,Math.max(1,i));a({passengers:o})},placeholder:"Enter number of passengers"}),(0,s.jsxs)("div",{className:"btn-row",children:[(0,s.jsx)("button",{className:"back-btn",onClick:i,children:"Back"}),(0,s.jsx)("button",{className:"next-btn",onClick:e,disabled:!c(),children:"Next"})]})]})}const d=[{name:"Sedan",img:"/assets/Sedan.png"},{name:"SUV",img:"/assets/SUV.png"},{name:"Executive",img:"/assets/Executive.png"},{name:"Sprinter Bus",img:"/assets/Sprinter Bus.png"}];function m(n){let{next:e,back:i,data:o,setData:a}=n;return(0,s.jsxs)("div",{className:"step-card",children:[(0,s.jsx)("h2",{className:"step-title",children:"Choose Your Vehicle"}),(0,s.jsx)("p",{className:"step-subtitle",children:"Select the vehicle type that best fits your group and comfort level. Our driver will contact you to discuss pricing and finalize your booking."}),(0,s.jsx)("div",{className:"vehicle-grid",children:d.map(n=>(0,s.jsxs)("div",{className:"vehicle-card ".concat(o.vehicle===n.name?"selected":""),onClick:()=>{a({vehicle:n.name})},children:[(0,s.jsx)("img",{src:n.img,alt:n.name,className:"vehicle-img",loading:"lazy",decoding:"async"}),(0,s.jsx)("div",{className:"vehicle-name",children:n.name})]},n.name))}),(0,s.jsxs)("div",{className:"btn-row",children:[(0,s.jsx)("button",{className:"back-btn",onClick:i,children:"Back"}),(0,s.jsx)("button",{className:"next-btn",onClick:e,disabled:!o.vehicle,children:"Next"})]})]})}function p(n){var e,i,o;let{next:a,back:t,data:r,setData:c}=n;return(0,s.jsxs)("div",{className:"step-card",children:[(0,s.jsx)("h2",{className:"step-title",children:"Your Contact Information"}),(0,s.jsx)("p",{className:"step-subtitle",children:"Enter your full name, email, and mobile number. We'll use this information only to send your booking confirmation and contact you about this trip."}),(0,s.jsxs)("label",{className:"label",children:["Full Name",(0,s.jsx)("span",{className:"required-asterisk ".concat(null!==(e=r.customerName)&&void 0!==e&&e.trim()?"hidden":""),children:"*"})]}),(0,s.jsx)("input",{type:"text",className:"input-field",value:r.customerName||"",onChange:n=>{const e=n.target.value.replace(/[^a-zA-Z.\-\s]/g,"").replace(/\b([a-zA-Z])([a-zA-Z.]*)/g,(n,e,i)=>e.toUpperCase()+i.toLowerCase());c({customerName:e})},placeholder:"Enter your full name",required:!0}),(0,s.jsxs)("label",{className:"label",children:["Email",(0,s.jsx)("span",{className:"required-asterisk ".concat(null!==(i=r.email)&&void 0!==i&&i.trim()?"hidden":""),children:"*"})]}),(0,s.jsx)("input",{type:"email",className:"input-field",value:r.email||"",onChange:n=>{const e=n.target.value.replace(/\s+/g,"").replace(/[^a-zA-Z0-9@._-]/g,"");c({email:e})},placeholder:"your.email@example.com",required:!0}),(0,s.jsxs)("label",{className:"label",children:["Phone Number",(0,s.jsx)("span",{className:"required-asterisk ".concat(null!==(o=r.phone)&&void 0!==o&&o.trim()?"hidden":""),children:"*"})]}),(0,s.jsxs)("div",{className:"phone-input-wrapper",children:[(0,s.jsx)("span",{className:"phone-prefix",children:"+1"}),(0,s.jsx)("input",{type:"tel",className:"input-field phone-input",value:r.phone||"",onChange:n=>{const e=(n=>{const e=n.replace(/\D/g,"").slice(0,10);return 0===e.length?"":e.length<=3?"(".concat(e):e.length<=6?"(".concat(e.slice(0,3),") ").concat(e.slice(3)):"(".concat(e.slice(0,3),") ").concat(e.slice(3,6),"-").concat(e.slice(6))})(n.target.value);c({phone:e})},placeholder:"(555) 123-4567",maxLength:17,required:!0})]}),(0,s.jsx)("small",{className:"input-hint",children:"US phone number format: +1 (XXX) XXX-XXXX"}),(0,s.jsxs)("div",{className:"btn-row",children:[(0,s.jsx)("button",{className:"back-btn",onClick:t,children:"Back"}),(0,s.jsx)("button",{className:"next-btn",onClick:a,disabled:!r.customerName||!r.phone||r.phone.replace(/\D/g,"").length<10||!r.email||!r.email.includes("@"),children:"Continue"})]})]})}i(189);function f(n){let{bookingData:e,bookingRef:i}=n;const o=(new Date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return(0,s.jsxs)("div",{className:"booking-confirmation-template",id:"booking-confirmation-template",children:[(0,s.jsx)("style",{children:"\n        @media print {\n          @page {\n            size: auto;\n            margin: 12mm;\n          }\n          body * {\n            visibility: hidden;\n          }\n          .booking-confirmation-template,\n          .booking-confirmation-template * {\n            visibility: visible;\n          }\n          .booking-confirmation-template {\n            position: absolute;\n            left: 0;\n            top: 0;\n            width: 100%;\n            height: 100%;\n            page-break-after: avoid;\n            page-break-inside: avoid;\n            display: flex;\n            flex-direction: column;\n          }\n          .no-print {\n            display: none !important;\n          }\n        }\n        .booking-confirmation-template {\n          max-width: 800px;\n          margin: 0 auto;\n          padding: 20px;\n          background: white;\n          color: #0f172a;\n          font-family: 'Inter', 'Arial', sans-serif;\n          display: flex;\n          flex-direction: column;\n          min-height: fit-content;\n        }\n        .confirmation-header {\n          text-align: center;\n          border-bottom: 2px solid #0b6cf2;\n          padding-bottom: 15px;\n          margin-bottom: 15px;\n          flex-shrink: 0;\n        }\n        .confirmation-logo {\n          max-width: 120px;\n          height: auto;\n          margin-bottom: 10px;\n        }\n        .confirmation-title {\n          font-size: 24px;\n          font-weight: 800;\n          color: #0f172a;\n          margin: 5px 0;\n        }\n        .confirmation-subtitle {\n          font-size: 13px;\n          color: #64748b;\n          margin: 3px 0;\n        }\n        .confirmation-ref {\n          background: #f0f9ff;\n          border: 2px solid #0b6cf2;\n          border-radius: 6px;\n          padding: 10px;\n          margin: 12px 0;\n          text-align: center;\n        }\n        .confirmation-ref-label {\n          font-size: 10px;\n          color: #64748b;\n          text-transform: uppercase;\n          letter-spacing: 1px;\n          margin-bottom: 3px;\n        }\n        .confirmation-ref-number {\n          font-size: 18px;\n          font-weight: 700;\n          color: #0b6cf2;\n          font-family: 'Courier New', monospace;\n        }\n        .confirmation-section {\n          margin: 12px 0;\n          page-break-inside: avoid;\n          flex-shrink: 0;\n        }\n        .confirmation-section-title {\n          font-size: 16px;\n          font-weight: 700;\n          color: #0f172a;\n          margin-bottom: 8px;\n          padding-bottom: 6px;\n          border-bottom: 2px solid #e2e8f0;\n        }\n        .confirmation-row {\n          display: flex;\n          justify-content: space-between;\n          padding: 6px 0;\n          border-bottom: 1px solid #f1f5f9;\n        }\n        .confirmation-row:last-child {\n          border-bottom: none;\n        }\n        .confirmation-label {\n          font-weight: 600;\n          color: #64748b;\n          font-size: 12px;\n          flex: 0 0 40%;\n        }\n        .confirmation-value {\n          color: #0f172a;\n          font-size: 12px;\n          flex: 1;\n          text-align: right;\n        }\n        .confirmation-footer {\n          margin-top: auto;\n          padding-top: 15px;\n          border-top: 2px solid #0b6cf2;\n          text-align: center;\n          page-break-inside: avoid;\n          flex-shrink: 0;\n        }\n        .confirmation-footer-title {\n          font-size: 14px;\n          font-weight: 700;\n          color: #0f172a;\n          margin-bottom: 8px;\n        }\n        .confirmation-footer-info {\n          font-size: 11px;\n          color: #64748b;\n          line-height: 1.5;\n          margin: 4px 0;\n        }\n        .confirmation-footer-info a {\n          color: #0b6cf2;\n          text-decoration: none;\n        }\n        .confirmation-note {\n          background: #f8fafc;\n          border-left: 3px solid #0b6cf2;\n          padding: 12px;\n          margin: 12px 0;\n          border-radius: 6px;\n          page-break-inside: avoid;\n          flex-shrink: 0;\n        }\n        .confirmation-note-title {\n          font-weight: 700;\n          color: #0f172a;\n          margin-bottom: 6px;\n          font-size: 13px;\n        }\n        .confirmation-note-text {\n          font-size: 11px;\n          color: #64748b;\n          line-height: 1.5;\n          margin: 0;\n        }\n        @media print {\n          .booking-confirmation-template {\n            padding: 12mm;\n            max-width: 100%;\n            width: 100%;\n            box-sizing: border-box;\n          }\n          .confirmation-header {\n            padding-bottom: 8px;\n            margin-bottom: 8px;\n          }\n          .confirmation-logo {\n            max-width: 90px;\n            margin-bottom: 6px;\n          }\n          .confirmation-title {\n            font-size: 18px;\n            margin: 2px 0;\n          }\n          .confirmation-subtitle {\n            font-size: 10px;\n            margin: 1px 0;\n          }\n          .confirmation-ref {\n            padding: 8px;\n            margin: 8px 0;\n          }\n          .confirmation-ref-label {\n            font-size: 9px;\n          }\n          .confirmation-ref-number {\n            font-size: 16px;\n          }\n          .confirmation-section {\n            margin: 8px 0;\n          }\n          .confirmation-section-title {\n            font-size: 14px;\n            margin-bottom: 6px;\n            padding-bottom: 4px;\n          }\n          .confirmation-row {\n            padding: 3px 0;\n          }\n          .confirmation-label,\n          .confirmation-value {\n            font-size: 11px;\n          }\n          .confirmation-note {\n            padding: 10px;\n            margin: 8px 0;\n          }\n          .confirmation-note-title {\n            font-size: 12px;\n            margin-bottom: 4px;\n          }\n          .confirmation-note-text {\n            font-size: 10px;\n          }\n          .confirmation-footer {\n            margin-top: 10px;\n            padding-top: 8px;\n          }\n          .confirmation-footer-title {\n            font-size: 12px;\n            margin-bottom: 6px;\n          }\n          .confirmation-footer-info {\n            font-size: 10px;\n            margin: 3px 0;\n          }\n        }\n        \n        /* Auto-adjust for different paper sizes */\n        @media print and (min-width: 210mm) {\n          /* A4 and larger */\n          .booking-confirmation-template {\n            padding: 15mm;\n          }\n        }\n        \n        @media print and (max-width: 216mm) {\n          /* Letter size and smaller */\n          .booking-confirmation-template {\n            padding: 10mm;\n          }\n        }\n      "}),(0,s.jsxs)("div",{className:"confirmation-header",children:[(0,s.jsx)("img",{src:"/assets/web-logo.png",alt:"J&J Limo Services Logo",className:"confirmation-logo"}),(0,s.jsx)("h1",{className:"confirmation-title",children:"Booking Confirmation"}),(0,s.jsx)("p",{className:"confirmation-subtitle",children:"J&J Limo Services"}),(0,s.jsx)("p",{className:"confirmation-subtitle",children:"Premium Ground Transportation"})]}),(0,s.jsxs)("div",{className:"confirmation-ref",children:[(0,s.jsx)("div",{className:"confirmation-ref-label",children:"Booking Reference Number"}),(0,s.jsx)("div",{className:"confirmation-ref-number",children:i})]}),(0,s.jsxs)("div",{className:"confirmation-section",children:[(0,s.jsx)("h2",{className:"confirmation-section-title",children:"Trip Details"}),(0,s.jsxs)("div",{className:"confirmation-row",children:[(0,s.jsx)("span",{className:"confirmation-label",children:"Pickup Location:"}),(0,s.jsx)("span",{className:"confirmation-value",children:e.pickup||(e.pickupCoords?"".concat(e.pickupCoords.lat.toFixed(6),", ").concat(e.pickupCoords.lng.toFixed(6)):"\u2014")})]}),(0,s.jsxs)("div",{className:"confirmation-row",children:[(0,s.jsx)("span",{className:"confirmation-label",children:"Dropoff Location:"}),(0,s.jsx)("span",{className:"confirmation-value",children:e.dropoff||(e.dropoffCoords?"".concat(e.dropoffCoords.lat.toFixed(6),", ").concat(e.dropoffCoords.lng.toFixed(6)):"\u2014")})]}),(0,s.jsxs)("div",{className:"confirmation-row",children:[(0,s.jsx)("span",{className:"confirmation-label",children:"Date:"}),(0,s.jsx)("span",{className:"confirmation-value",children:(n=>{if(!n)return"\u2014";try{return new Date(n).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}catch(e){return n}})(e.date)||"\u2014"})]}),(0,s.jsxs)("div",{className:"confirmation-row",children:[(0,s.jsx)("span",{className:"confirmation-label",children:"Time:"}),(0,s.jsx)("span",{className:"confirmation-value",children:(n=>{if(!n)return"\u2014";const[e="",i=""]=n.split(":");if(""===e||""===i)return n;const o=parseInt(e,10);if(Number.isNaN(o))return n;const a=o>=12?"PM":"AM";return"".concat(o%12===0?12:o%12,":").concat(i," ").concat(a)})(e.time)})]}),(0,s.jsxs)("div",{className:"confirmation-row",children:[(0,s.jsx)("span",{className:"confirmation-label",children:"Vehicle Type:"}),(0,s.jsx)("span",{className:"confirmation-value",children:e.vehicle||"\u2014"})]}),(0,s.jsxs)("div",{className:"confirmation-row",children:[(0,s.jsx)("span",{className:"confirmation-label",children:"Number of Passengers:"}),(0,s.jsx)("span",{className:"confirmation-value",children:e.passengers||"\u2014"})]})]}),(0,s.jsxs)("div",{className:"confirmation-section",children:[(0,s.jsx)("h2",{className:"confirmation-section-title",children:"Contact Information"}),(0,s.jsxs)("div",{className:"confirmation-row",children:[(0,s.jsx)("span",{className:"confirmation-label",children:"Name:"}),(0,s.jsx)("span",{className:"confirmation-value",children:e.customerName||"\u2014"})]}),(0,s.jsxs)("div",{className:"confirmation-row",children:[(0,s.jsx)("span",{className:"confirmation-label",children:"Phone:"}),(0,s.jsx)("span",{className:"confirmation-value",children:e.phone?"+1 ".concat(e.phone):"\u2014"})]}),(0,s.jsxs)("div",{className:"confirmation-row",children:[(0,s.jsx)("span",{className:"confirmation-label",children:"Email:"}),(0,s.jsx)("span",{className:"confirmation-value",children:e.email||"\u2014"})]})]}),(0,s.jsxs)("div",{className:"confirmation-note",children:[(0,s.jsx)("div",{className:"confirmation-note-title",children:"Important Information"}),(0,s.jsx)("p",{className:"confirmation-note-text",children:"Our driver will contact you directly to discuss the total payment amount and confirm all booking details. Payment will be arranged directly with you before your trip. Please keep this confirmation for your records."})]}),(0,s.jsxs)("div",{className:"confirmation-footer",children:[(0,s.jsx)("div",{className:"confirmation-footer-title",children:"Contact Us"}),(0,s.jsxs)("div",{className:"confirmation-footer-info",children:[(0,s.jsx)("strong",{children:"Phone:"})," ",(0,s.jsx)("a",{href:"tel:+18629029304",children:"+1 (862) 902-9304"})]}),(0,s.jsxs)("div",{className:"confirmation-footer-info",children:[(0,s.jsx)("strong",{children:"Email:"})," ",(0,s.jsx)("a",{href:"mailto:Jjlimoservices21@gmail.com",children:"Jjlimoservices21@gmail.com"})]}),(0,s.jsxs)("div",{className:"confirmation-footer-info",children:[(0,s.jsx)("strong",{children:"Service:"})," 24/7 Available"]}),(0,s.jsxs)("div",{className:"confirmation-footer-info",style:{marginTop:"20px",fontSize:"12px",color:"#94a3b8"},children:["Confirmation generated on ",o]})]})]})}function u(n){let{isOpen:e,onClose:i,bookingData:o}=n;const[t,r]=(0,a.useState)(!1),[c,l]=(0,a.useState)(!1),[d,m]=(0,a.useState)(""),p=(0,a.useRef)(null),u=(0,a.useRef)(null);if(!e)return null;return(0,s.jsx)("div",{className:"modal-overlay",onClick:i,children:(0,s.jsx)("div",{className:"modal-content",onClick:n=>n.stopPropagation(),children:t?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"modal-header",children:(0,s.jsx)("h2",{children:"Booking Successful"})}),(0,s.jsxs)("div",{className:"modal-body",children:[(0,s.jsxs)("p",{style:{fontSize:"16px",color:"#0f172a",marginBottom:"12px"},children:["Thank you, ",o.customerName||"guest","!"]}),(0,s.jsx)("p",{style:{fontSize:"14px",color:"#64748b",marginBottom:"20px"},children:"Your booking has been successfully submitted. Our team will contact you shortly to confirm all details. Please also check your email and SMS for a confirmation message."}),d&&(0,s.jsxs)("div",{style:{background:"#f0f9ff",border:"2px solid #0b6cf2",borderRadius:"12px",padding:"16px",marginBottom:"20px",textAlign:"center"},children:[(0,s.jsx)("div",{style:{fontSize:"12px",color:"#64748b",marginBottom:"5px"},children:"Booking Reference Number"}),(0,s.jsx)("div",{style:{fontSize:"20px",fontWeight:700,color:"#0b6cf2",fontFamily:"monospace"},children:d})]}),(0,s.jsx)("div",{style:{display:"flex",gap:"12px",justifyContent:"center",flexWrap:"wrap"},children:(0,s.jsx)("button",{className:"btn-confirm",onClick:()=>{const n=window.open("","_blank"),e=p.current?p.current.innerHTML:"";n.document.write("\n      <!DOCTYPE html>\n      <html>\n        <head>\n          <title>Booking Confirmation - ".concat(d,'</title>\n          <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"><\/script>\n          <style>\n            @media print {\n              @page {\n                margin: 20mm;\n              }\n            }\n            body {\n              margin: 0;\n              padding: 20px;\n              font-family: \'Inter\', \'Arial\', sans-serif;\n              background: #f8fafc;\n            }\n            .view-actions {\n              position: fixed;\n              top: 10px;\n              right: 10px;\n              z-index: 1000;\n              display: flex;\n              gap: 10px;\n              flex-wrap: wrap;\n            }\n            .view-btn {\n              padding: 10px 20px;\n              background: #0b6cf2;\n              color: white;\n              border: none;\n              border-radius: 6px;\n              cursor: pointer;\n              font-weight: 600;\n              font-size: 14px;\n            }\n            .view-btn:hover {\n              background: #0956c4;\n            }\n            .view-btn.jpeg {\n              background: #f59e0b;\n            }\n            .view-btn.jpeg:hover {\n              background: #d97706;\n            }\n            @media print {\n              .view-actions {\n                display: none;\n              }\n            }\n          </style>\n        </head>\n        <body>\n          <div class="view-actions">\n            <button class="view-btn" onclick="window.print()">\ud83d\udda8\ufe0f Print / Save as PDF</button>\n            <button class="view-btn jpeg" onclick="downloadJPEG()">\ud83d\uddbc\ufe0f Download as JPEG</button>\n            <button class="view-btn" onclick="window.close()" style="background: #64748b;">Close</button>\n          </div>\n          <div id="confirmation-content">\n            ').concat(e,"\n          </div>\n          <script>\n            async function downloadJPEG() {\n              try {\n                const content = document.getElementById('confirmation-content');\n                const canvas = await html2canvas(content, {\n                  backgroundColor: '#ffffff',\n                  scale: 2,\n                  logging: false,\n                  useCORS: true\n                });\n                const dataUrl = canvas.toDataURL('image/jpeg', 0.95);\n                const link = document.createElement('a');\n                link.download = 'Booking-Confirmation-").concat(d,".jpg';\n                link.href = dataUrl;\n                link.click();\n              } catch (error) {\n                console.error('Error generating JPEG:', error);\n                alert('Failed to generate JPEG. Please try again.');\n              }\n            }\n          <\/script>\n        </body>\n      </html>\n    ")),n.document.close()},style:{minWidth:"140px",background:"#10b981"},children:"\ud83d\udcc4 View Booking Information"})})]}),(0,s.jsx)("div",{className:"modal-footer",children:(0,s.jsx)("button",{className:"btn-confirm",onClick:()=>{r(!1),i(),window.location.href="/"},children:"Done"})}),d&&(0,s.jsx)("div",{ref:u,style:{position:"absolute",left:"-9999px",top:"-9999px",visibility:"hidden"},children:(0,s.jsx)("div",{ref:p,children:(0,s.jsx)(f,{bookingData:o,bookingRef:d})})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"modal-header",children:[(0,s.jsx)("h2",{children:"Confirm Your Booking"}),(0,s.jsx)("button",{className:"modal-close",onClick:i,children:"\xd7"})]}),(0,s.jsxs)("div",{className:"modal-body",children:[(0,s.jsxs)("div",{className:"confirmation-section",children:[(0,s.jsx)("h3",{children:"Booking Details"}),(0,s.jsxs)("div",{className:"confirmation-row",children:[(0,s.jsx)("span",{className:"confirmation-label",children:"Pickup Location:"}),(0,s.jsx)("span",{className:"confirmation-value",children:o.pickup||(o.pickupCoords?"".concat(o.pickupCoords.lat.toFixed(6),", ").concat(o.pickupCoords.lng.toFixed(6)):"\u2014")})]}),(0,s.jsxs)("div",{className:"confirmation-row",children:[(0,s.jsx)("span",{className:"confirmation-label",children:"Dropoff Location:"}),(0,s.jsx)("span",{className:"confirmation-value",children:o.dropoff||(o.dropoffCoords?"".concat(o.dropoffCoords.lat.toFixed(6),", ").concat(o.dropoffCoords.lng.toFixed(6)):"\u2014")})]}),(0,s.jsxs)("div",{className:"confirmation-row",children:[(0,s.jsx)("span",{className:"confirmation-label",children:"Date:"}),(0,s.jsx)("span",{className:"confirmation-value",children:o.date||"\u2014"})]}),(0,s.jsxs)("div",{className:"confirmation-row",children:[(0,s.jsx)("span",{className:"confirmation-label",children:"Time:"}),(0,s.jsx)("span",{className:"confirmation-value",children:(n=>{if(!n)return"\u2014";const[e="",i=""]=n.split(":");return""===e||""===i?n:"".concat(e.padStart(2,"0"),":").concat(i.padStart(2,"0"))})(o.time)})]}),(0,s.jsxs)("div",{className:"confirmation-row",children:[(0,s.jsx)("span",{className:"confirmation-label",children:"Vehicle:"}),(0,s.jsx)("span",{className:"confirmation-value",children:o.vehicle||"\u2014"})]}),(0,s.jsxs)("div",{className:"confirmation-row",children:[(0,s.jsx)("span",{className:"confirmation-label",children:"Passengers:"}),(0,s.jsx)("span",{className:"confirmation-value",children:o.passengers?o.passengers:"\u2014"})]})]}),(0,s.jsxs)("div",{className:"confirmation-section",children:[(0,s.jsx)("h3",{children:"Contact Information"}),(0,s.jsxs)("div",{className:"confirmation-row",children:[(0,s.jsx)("span",{className:"confirmation-label",children:"Name:"}),(0,s.jsx)("span",{className:"confirmation-value",children:o.customerName||"\u2014"})]}),(0,s.jsxs)("div",{className:"confirmation-row",children:[(0,s.jsx)("span",{className:"confirmation-label",children:"Phone:"}),(0,s.jsx)("span",{className:"confirmation-value",children:o.phone?"+1 ".concat(o.phone):"\u2014"})]}),(0,s.jsxs)("div",{className:"confirmation-row",children:[(0,s.jsx)("span",{className:"confirmation-label",children:"Email:"}),(0,s.jsx)("span",{className:"confirmation-value",children:o.email||"\u2014"})]})]}),(0,s.jsxs)("div",{className:"confirmation-note",style:{background:"#f0f9ff",border:"2px solid #0b6cf2",borderRadius:"12px",padding:"20px",marginTop:"20px"},children:[(0,s.jsx)("p",{style:{margin:"0 0 12px 0",fontWeight:600,color:"#0f172a",fontSize:"16px"},children:"Pricing & Payment:"}),(0,s.jsxs)("p",{style:{margin:"16px 0 0 0",fontSize:"14px",color:"#64748b",lineHeight:"1.6"},children:["By confirming, you agree to our"," ",(0,s.jsx)("a",{href:"/terms",target:"_blank",rel:"noopener noreferrer",style:{color:"#0b6cf2",fontWeight:600},children:"terms and conditions"}),"."]})]})]}),(0,s.jsxs)("div",{className:"modal-footer",children:[(0,s.jsx)("button",{className:"btn-cancel",onClick:i,disabled:c,children:"Cancel"}),(0,s.jsx)("button",{className:"btn-confirm",onClick:()=>{if(c)return;l(!0);const n=(()=>{const n=Date.now().toString().slice(-8),e=Math.floor(1e3*Math.random()).toString().padStart(3,"0");return"".concat("JJ","-").concat(n,"-").concat(e)})();m(n),setTimeout(()=>{console.log("Booking confirmed:",o),console.log("Booking Reference:",n),l(!1),r(!0)},1200)},disabled:c,children:c?"Confirming...":"Confirm Booking"})]})]})})})}function h(n){let{back:e,data:i}=n;const[o,t]=(0,a.useState)(!1),[r,c]=(0,a.useState)(!1);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"step-card",children:[(0,s.jsx)("h2",{className:"step-title",children:"Review Your Booking"}),(0,s.jsx)("p",{className:"step-subtitle",children:"Please double\u2011check all trip and contact details below. If something looks wrong, go back and edit it before you confirm your booking. Payment is collected by J&J Limo Services on the day of your trip."}),(0,s.jsxs)("div",{className:"review-section",children:[(0,s.jsx)("h3",{className:"review-section-title",children:"Trip Details"}),(0,s.jsxs)("div",{className:"review-row",children:[(0,s.jsx)("strong",{children:"Pickup:"})," ",i.pickup||(i.pickupCoords?"".concat(i.pickupCoords.lat.toFixed(6),", ").concat(i.pickupCoords.lng.toFixed(6)):"\u2014")]}),(0,s.jsxs)("div",{className:"review-row",children:[(0,s.jsx)("strong",{children:"Dropoff:"})," ",i.dropoff||(i.dropoffCoords?"".concat(i.dropoffCoords.lat.toFixed(6),", ").concat(i.dropoffCoords.lng.toFixed(6)):"\u2014")]}),(0,s.jsxs)("div",{className:"review-row",children:[(0,s.jsx)("strong",{children:"Date:"})," ",i.date||"\u2014"]}),(0,s.jsxs)("div",{className:"review-row",children:[(0,s.jsx)("strong",{children:"Time:"})," ",(n=>{if(!n)return"\u2014";const[e,i]=n.split(":"),o=parseInt(e,10);if(Number.isNaN(o))return n;const a=o>=12?"PM":"AM";return"".concat(o%12===0?12:o%12,":").concat(i," ").concat(a)})(i.time)]}),(0,s.jsxs)("div",{className:"review-row",children:[(0,s.jsx)("strong",{children:"Vehicle:"})," ",i.vehicle||"\u2014"]}),(0,s.jsxs)("div",{className:"review-row",children:[(0,s.jsx)("strong",{children:"Passengers:"})," ",i.passengers]})]}),(0,s.jsxs)("div",{className:"review-section",children:[(0,s.jsx)("h3",{className:"review-section-title",children:"Contact Information"}),(0,s.jsxs)("div",{className:"review-row",children:[(0,s.jsx)("strong",{children:"Name:"})," ",i.customerName||"\u2014"]}),(0,s.jsxs)("div",{className:"review-row",children:[(0,s.jsx)("strong",{children:"Phone:"})," ",i.phone?"+1 ".concat(i.phone):"\u2014"]}),(0,s.jsxs)("div",{className:"review-row",children:[(0,s.jsx)("strong",{children:"Email:"})," ",i.email||"\u2014"]})]}),(0,s.jsx)("div",{className:"total-box",style:{background:"#f0f9ff",border:"2px solid #0b6cf2",borderRadius:"12px",padding:"20px",marginTop:"24px"},children:(0,s.jsxs)("div",{style:{textAlign:"center",width:"100%"},children:[(0,s.jsx)("strong",{style:{fontSize:"18px",color:"#0f172a",display:"block",marginBottom:"8px"},children:"Pricing Information"}),(0,s.jsx)("div",{className:"muted",style:{fontSize:"14px",color:"#64748b",lineHeight:"1.6"},children:"Our driver will contact you shortly to discuss the total payment amount and confirm all booking details. Payment will be arranged directly with you before your trip."})]})}),(0,s.jsxs)("div",{className:"btn-row",children:[(0,s.jsx)("button",{className:"back-btn",onClick:e,disabled:r,children:"Back"}),(0,s.jsx)("button",{className:"next-btn",onClick:()=>{c(!0),setTimeout(()=>{c(!1),t(!0)},1200)},disabled:r,children:r?"Confirming...":"Confirm"})]})]}),r&&(0,s.jsx)("div",{className:"page-loading-overlay",children:(0,s.jsxs)("div",{className:"page-loading-card",children:[(0,s.jsx)("div",{className:"page-loading-spinner"}),(0,s.jsx)("p",{children:"Confirming your booking\u2026"})]})}),(0,s.jsx)(u,{isOpen:o,onClose:()=>t(!1),bookingData:i})]})}function x(n){let{step:e}=n;const i=["Locations","Date & Time","Vehicle","Contact Info","Review"];return(0,s.jsx)("div",{className:"progress-bar-wrapper",children:i.map((n,o)=>{const a=o+1,t=a===e,r=a<e;return(0,s.jsxs)("div",{className:"progress-step",children:[(0,s.jsx)("div",{className:"circle ".concat(t?"active":""," ").concat(r?"completed":""),children:a}),(0,s.jsx)("div",{className:"step-label",children:n}),o<i.length-1&&(0,s.jsx)("div",{className:"bar ".concat(r?"completed":"")})]},n)})})}function g(){const[n,e]=(0,a.useState)(1),[i,r]=(0,a.useState)({pickup:"",dropoff:"",pickupCoords:null,dropoffCoords:null,date:"",time:"",vehicle:"",passengers:"",distanceKm:0,addons:[],price:0,customerName:"",phone:"",email:""}),d=(0,t.zy)();(0,a.useEffect)(()=>{var n;if(null!==d&&void 0!==d&&null!==(n=d.state)&&void 0!==n&&n.vehicle){const n=d.state.vehicle;r(e=>(0,o.A)((0,o.A)({},e),{},{vehicle:n}))}},[null===d||void 0===d?void 0:d.state]);const f=()=>e(n=>Math.min(5,n+1)),u=()=>e(n=>Math.max(1,n-1)),g=n=>r(e=>(0,o.A)((0,o.A)({},e),n));(0,a.useEffect)(()=>{const n=document.querySelector(".wizard-card");if(n){const e=n.getBoundingClientRect(),i=110,o=window.pageYOffset+e.top-i;window.scrollTo({top:o,behavior:"smooth"})}},[n]);return(0,s.jsx)("div",{className:"wizard-area",children:(0,s.jsx)("div",{className:"container",children:(0,s.jsxs)("div",{className:"wizard-card",children:[(0,s.jsx)(x,{step:n}),1===n&&(0,s.jsx)(c,{next:f,data:i,setData:g}),2===n&&(0,s.jsx)(l,{next:f,back:u,data:i,setData:g}),3===n&&(0,s.jsx)(m,{next:f,back:u,data:i,setData:g}),4===n&&(0,s.jsx)(p,{next:f,back:u,data:i,setData:g}),5===n&&(0,s.jsx)(h,{back:u,data:i})]})})})}}}]);
//# sourceMappingURL=751.0d8920bd.chunk.js.map